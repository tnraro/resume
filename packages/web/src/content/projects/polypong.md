---
title: polypong
github: https://github.com/tnraro/polypong
website: https://polypong.tnraro.com/
stack:
  - bun
  - ElysiaJS
  - Matter.js (물리 엔진)
begin: 2024-05-25
end: 2024-05-31
priority: 1
---

여러 명이 동시에 즐길 수 있는 온라인 핑퐁입니다.

- 실시간 서버 구현
  - 서버에서 물리 계산을 수행하고 클라이언트에 WebSocket으로 위치만 전송하는 방식을 선택했습니다. 처음에는 1초에 60번 전체 상태를 전송하게 구현했습니다. 이후, 이전 상태와 이후 상태를 비교해서 변경 점만 전송하도록 수정했습니다. 단, 이 경우 전송 순서가 보장되어야 하고, 이는 논리 시계를 사용하면 어느정도 해결 할 수 있지만 구현하진 않았습니다.
- 선형 보간 구현
  - 네트워크가 불안정한 환경에서도 자연스럽게 보이도록 클라이언트에서 선형 보간을 하게 수정했습니다. 덕분에 서버에서 상태를 절반만 보내도 이전과 변함없이 보이게 되었습니다.